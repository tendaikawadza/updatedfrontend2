{"version":3,"sources":["stockdashboard.component.ts"],"names":[],"mappings":"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","file":"stockdashboard.component.js","sourcesContent":["import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { ConfirmationService, MessageService } from 'primeng/api';\nimport { Stock } from '../model/stock';\nimport { AuthenticationService } from '../service/authentication.service';\nimport { StockService } from '../service/stock.service';\n\n@Component({\n    selector: 'app-stockdashboard',\n    templateUrl: './stockdashboard.component.html',\n    styleUrls: ['./stockdashboard.component.css']\n})\nexport class StockdashboardComponent {\n    items = [\n        {label: 'Home', icon: 'pi pi-fw pi-home'},\n        {label: 'Settings', icon: 'pi pi-fw pi-cog'},\n        {label: 'Logout', icon: 'pi pi-fw pi-power-off'},\n      ];\n    productDialog: boolean;\n\n    products: Stock[] = [\n        { productId: 11, productCode: 17, productName: \"test\", productDescription: \"test\", productCategory: \"tets desc\", quantityOnHand: 4 },\n        { productId: 12, productCode: 155, productName: \"test prod\", productDescription: \"test\", productCategory: \"tets desc\", quantityOnHand: 5 },\n        { productId: 13, productCode: 166, productName: \"test test no\", productDescription: \"test\", productCategory: \"tets desc\", quantityOnHand: 6 },\n    ];\n    categoryOpt = [\n        { name: 'accounts', code: 'accounts' },\n        { name: 'admini', code: 'admini' },\n        { name: 'human resourse', code: 'human resourse' },\n\n    ];\n\n    product: any;\n\n    selectedProducts: Stock[];\n\n    submitted: boolean;\n    addProductForm: FormGroup;\n\n    constructor(private router:Router,private auth:AuthenticationService, private productService: StockService, private messageService: MessageService,\n        private confirmationService: ConfirmationService, private fb: FormBuilder) { }\n\n    ngOnInit() {\n        this.addProductForm = this.fb.group({\n            productName: ['', [Validators.required]],\n            productCode: ['', [Validators.required]],\n            quantityOnHand: ['', [Validators.required]],\n            productCategory: ['', [Validators.required]],\n            productDescription: ['', [Validators.required]],\n        });\n        this.productService.getAllProducts().subscribe(data => this.products = data);\n    }\n    get f(): any {\n        return this.addProductForm.controls;\n    }\n\n    openNew() {\n        this.product = {};\n        this.submitted = false;\n        this.productDialog = true;\n    }\n\n    deleteSelectedProducts() {\n        this.confirmationService.confirm({\n            message: 'Are you sure you want to delete the selected products?',\n            header: 'Confirm',\n            icon: 'pi pi-exclamation-triangle',\n            accept: () => {\n                this.products = this.products.filter(val => !this.selectedProducts.includes(val));\n                this.messageService.add({ severity: 'success', summary: 'Successful', detail: 'Products Deleted', life: 3000 });\n            }\n        });\n    }\n\n    editProduct(product: Stock) {\n        this.addProductForm.patchValue(product);\n        this.productDialog = true;\n    }\n\n    deleteProduct(product: Stock) {\n        this.confirmationService.confirm({\n            message: 'Are you sure you want to delete ' + product.productName + '?',\n            header: 'Confirm',\n            icon: 'pi pi-exclamation-triangle',\n            accept: () => {\n                this.products = this.products.filter(val => val.productCode !== product.productCode);\n                this.product = {};\n                this.messageService.add({ severity: 'success', summary: 'Successful', detail: 'Product Deleted', life: 3000 });\n            }\n        });\n    }\n\n    hideDialog() {\n        this.productDialog = false;\n        this.submitted = false;\n    }\n\n    onSubmit() {\n        console.log(this.addProductForm.value)\n        if (this.addProductForm.invalid) {\n            return\n        }\n        this.submitted = true;\n        this.productService.addProduct(this.addProductForm.value).subscribe((data: any) => {\n            if (data) {\n                this.products.push(this.addProductForm.value);\n                this.messageService.add({ severity: 'success', summary: 'Product successfully added to the catalog', detail: 'Via MessageService' });\n            }\n            else {\n                this.messageService.add({ severity: 'success', summary: 'Product could not be Added to the catalog : Check Specification of your product', detail: 'Via MessageService' });\n            }\n\n        })\n        // if (this.product.productCode.trim()) {\n        //     if (this.product.productCode) {\n        //         this.products[this.findIndexById(this.product.productCode)] = this.product;\n        //         this.messageService.add({ severity: 'success', summary: 'Successful', detail: 'Product Updated', life: 3000 });\n        //     }\n        //     else {\n        //         this.product.productCode = this.createId();\n\n        //         this.messageService.add({ severity: 'success', summary: 'Successful', detail: 'Product Created', life: 3000 });\n        //     }\n\n        //     this.products = [...this.products];\n        //     this.productDialog = false;\n        //     this.product = {};\n        // }\n    }\n\n    findIndexById(id: number): number {\n        let index = -1;\n        for (let i = 0; i < this.products.length; i++) {\n            if (this.products[i].productCode === id) {\n                index = i;\n                break;\n            }\n        }\n\n        return index;\n    }\n\n    createId(): string {\n        let id = '';\n        var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n        for (var i = 0; i < 5; i++) {\n            id += chars.charAt(Math.floor(Math.random() * chars.length));\n        }\n        return id;\n    }\n    logout(){\n        console.log('ddd')\n      this.auth.logOut();\n      this.router.navigate(['login']);\n    }\n}\n\n"]}